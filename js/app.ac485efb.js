(function(e){function t(t){for(var a,i,r=t[0],o=t[1],d=t[2],u=0,p=[];u<r.length;u++)i=r[u],l[i]&&p.push(l[i][0]),l[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);c&&c(t);while(p.length)p.shift()();return n.push.apply(n,d||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,r=1;r<s.length;r++){var o=s[r];0!==l[o]&&(a=!1)}a&&(n.splice(t--,1),e=i(i.s=s[0]))}return e}var a={},l={app:0},n=[];function i(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=a,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var c=o;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0358":function(e,t,s){},"106f":function(e,t,s){},"18b7":function(e,t,s){"use strict";var a=s("abc4"),l=s.n(a);l.a},"1cd4":function(e,t,s){},"1cd8":function(e,t,s){},"2e89":function(e,t,s){},3769:function(e,t,s){},"3e68":function(e,t,s){},4678:function(e,t,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function l(e){var t=n(e);return s(t)}function n(e){var t=a[e];if(!(t+1)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return t}l.keys=function(){return Object.keys(a)},l.resolve=n,e.exports=l,l.id="4678"},"4c3c":function(e,t,s){"use strict";var a=s("b968"),l=s.n(a);l.a},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),l=s("ce5b"),n=s.n(l),i=s("2f98"),r=s.n(i),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-stepper",{staticStyle:{overflow:"scroll","min-height":"calc(100% - 48px)"},model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[s("v-stepper-header",e._l(e.steps,function(t,a){return s("v-stepper-step",{key:"step_tab_"+a,attrs:{complete:e.e1>a,step:a+1}},[e._v("\n    "+e._s(t.name)+"\n    ")])})),s("v-stepper-items",e._l(e.steps,function(e,t){return s("v-stepper-content",{key:"step_content_"+t,attrs:{step:t+1}},[s(e.component,{ref:e.name,refInFor:!0,tag:"component"})],1)}))],1),s("v-layout",{attrs:{row:"",wrap:""}},[e.e1>1?s("v-btn",{attrs:{flat:""},on:{click:function(t){e.e1-=1}}},[e._v("Prev")]):e._e(),s("v-flex"),s("v-flex"),s("v-flex",[s("v-flex",{staticStyle:{"text-align":"right"}},[e.e1<e.steps.length?s("v-btn",{attrs:{color:"primary",disabled:!e.readyToContinue},on:{click:e.next}},[e._v("\n    Continue\n    ")]):e._e()],1)],1)],1)],1)},d=[],c=s("2f62"),u=s("0e44"),p=s("2ef0"),h=s.n(p);a["default"].use(c["b"]);const v={backend:"https://mindlogger-dev.vasegurt.com/api/v1",allApplets:[],currentApplet:{},auth:{},continue:{}},m={setBackend(e,t){t!==e.backend&&(e.auth={}),e.backend=t},setCurrentApplet(e,t){e.currentApplet=t},setAllApplets(e,t){e.allApplets=t},setAuth(e,t){e.auth=t},setSchedule(e,t){const s=h.a.findIndex(e.allApplets,t=>t.applet["skos:prefLabel"]==e.currentApplet.applet["skos:prefLabel"]);s>-1&&(e.allApplets[s].applet.schedule=t),e.currentApplet.applet.schedule=t},setGroups(e,t){const s=h.a.findIndex(e.allApplets,t=>t.applet["skos:prefLabel"]==e.currentApplet.applet["skos:prefLabel"]);s>-1&&(e.allApplets[s].groups=t),e.currentApplet.groups=t},setUsers(e,t){e.users=t},setReviewers(e,t){e.reviewers=t},continue(e,t){e.continue[t.component]=t.continue}},f=new c["a"]({state:v,mutations:m,plugins:[Object(u["a"])()]});var y=f,b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",[s("h1",[e._v("Select your Server")]),s("p",[e._v("\n          This server will hold your applet configuration settings\n          and all the data you collect.\n        ")]),s("v-text-field",{attrs:{label:"Server URL"},model:{value:e.backendServer,callback:function(t){e.backendServer=t},expression:"backendServer"}})],1)],1)],1)},_=[],g={name:"BackendServer",data:()=>({backendServer:"https://mindlogger-dev.vasegurt.com/api/v1"}),computed:{readyToContinue(){return!!this.backendServer}},mounted(){this.$store.state.backend&&(this.backendServer=this.$store.state.backend)},methods:{continueAction(){return this.$store.commit("setBackend",this.backendServer),this.$store.state.backend}}},$=g,x=s("2877"),k=Object(x["a"])($,b,_,!1,null,null,null),j=k.exports,w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("v-layout",{attrs:{row:"",wrap:""}},[e.notLoggedIn?s("v-flex",[s("h1",[e._v("Login")]),s("p",[e._v("\n          Log into your Mindlogger account hosted at "+e._s(e.$store.state.backend)+"\n        ")]),s("v-text-field",{attrs:{label:"username"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("v-text-field",{attrs:{label:"password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),this.error.message?s("div",{staticClass:"error"},[e._v("\n          "+e._s(e.error.message)+"\n        ")]):e._e(),s("v-btn",{attrs:{color:"primary"},on:{click:e.login}},[e._v("Login")])],1):s("v-flex",[s("h1",[e._v("Hello, "+e._s(e.auth.user.login))]),s("p",[e._v('Click "continue" or '),s("v-btn",{attrs:{color:"primary"},on:{click:e.logout}},[e._v("Logout")])],1)])],1)],1)},A=[],D=s("58c6"),E=s.n(D),C={name:"Login",data:()=>({username:"",password:"",error:{}}),computed:{readyToContinue(){return!h.a.isEmpty(this.auth)},notLoggedIn(){return h.a.isEmpty(this.auth)},auth(){return this.$store.state.auth}},mounted(){},methods:{continueAction(){},login(){this.error={},E.a.signIn({apiHost:this.$store.state.backend,user:this.username,password:this.password}).then(e=>{this.$store.commit("setAuth",e.data)}).catch(e=>{this.error=e})},logout(){this.$store.commit("setAuth",{})}}},S=C,O=(s("5932"),Object(x["a"])(S,w,A,!1,null,null,null)),T=O.exports,P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[e.isLoggedIn?s("div",[s("h1",[e._v("Your Applets")]),"loading"===e.status?s("div",[e._v("\n      refreshing...\n    ")]):"error"===e.status?s("div",{staticClass:"error"},[e._v("\n      "+e._s(e.error.message)+"\n    ")]):e._e(),s("div",{staticStyle:{"margin-top":"2em"}},[s("h3",[e._v("Create a new applet:")]),s("v-text-field",{attrs:{label:"activity set url"},model:{value:e.newAppletURL,callback:function(t){e.newAppletURL=t},expression:"newAppletURL"}}),s("v-btn",{attrs:{color:"success",disabled:!e.newAppletURL}},[e._v("Add")])],1),s("div",{staticStyle:{"margin-top":"3em"}},[s("h3",{staticStyle:{"margin-bottom":"1.5em"}},[e._v("Or select an existing applet:")]),s("AllApplets",{attrs:{applets:e.allApplets},on:{selected_applet:e.setSelectedApplet}})],1)]):e._e()])},G=[],I=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-expansion-panel",{model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},e._l(e.applets,function(t,a){return s("v-expansion-panel-content",{key:"i"+a},[s("template",{slot:"header"},[s("h3",[e._v(e._s(t.applet["skos:prefLabel"]))])]),s("Applet",{attrs:{applet:t}})],2)}))],1)},R=[],L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",[s("v-layout",[s("v-flex",{staticClass:"text-lg-right"},[e.currentApplet?s("div",{staticStyle:{color:"red","text-align":"center"}},[s("h4",[e._v("CURRENT")])]):e._e(),s("v-img",{staticClass:"pa-3 ma-3",attrs:{src:e.applet.applet["schema:image"]||"https://picsum.photos/id/83/200/200",height:"125px",width:"125px",contain:""}})],1),s("v-flex",[s("v-card-title",{attrs:{"primary-title":""}},[s("div",[s("h3",{staticClass:"headline mb-0"},[e._v("\n              "+e._s(e.applet.applet["skos:prefLabel"])+"\n            ")]),s("div",[e._v(" "+e._s(e.applet.applet["schema:description"])+" ")])])])],1)],1),s("v-card-actions",{staticClass:"pa-3 pt-3"})],1)},U=[],B={name:"Applet",props:{applet:{type:Object,required:!0}},computed:{currentApplet(){return this.applet==this.$store.state.currentApplet}},data:()=>({}),watch:{},methods:{},created(){}},N=B,V=(s("cc3e"),Object(x["a"])(N,L,U,!1,null,null,null)),z=V.exports,F={name:"AllApplets",props:{applets:{type:Array,required:!0}},components:{Applet:z},watch:{panel(){this.$emit("selected_applet",this.panel)},currentApplet(){return this.$store.state.currentApplet}},data:()=>({panel:[]}),computed:{},methods:{setInitialPanel(){const e=h.a.findIndex(this.$store.state.allApplets,e=>{return e.applet["schema:description"]==this.$store.state.currentApplet.applet["schema:description"]});e>-1&&(this.panel=e)}},mounted(){this.setInitialPanel()}},H=F,M=(s("fde2"),Object(x["a"])(H,I,R,!1,null,null,null)),q=M.exports,Q={name:"Applet",data:()=>({error:{},status:"loading",newAppletURL:""}),components:{AllApplets:q},computed:{allApplets(){return this.$store.state.allApplets},currentApplet(){return this.$store.state.currentApplet},isLoggedIn(){return!h.a.isEmpty(this.$store.state.auth)},readyToContinue(){return!h.a.isEmpty(this.currentApplet)}},watch:{isLoggedIn(){this.isLoggedIn&&this.getApplets()}},methods:{getApplets(){this.status="loading",E.a.getAppletsForUser({apiHost:this.$store.state.backend,token:this.$store.state.auth.authToken.token,user:this.$store.state.auth.user._id,role:"manager"}).then(e=>{this.$store.commit("setAllApplets",e.data),this.status="ready"}).catch(e=>{this.error=e,this.status="error"})},continueAction(){},setSelectedApplet(e){this.$store.commit("setCurrentApplet",this.$store.state.allApplets[e])}},mounted(){this.isLoggedIn&&this.getApplets()}},J=Q,Y=Object(x["a"])(J,P,G,!1,null,null,null),K=Y.exports,W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("h1",[e._v("Groups")]),s("p",[e._v("\n    Groups give you fine-grained control over data access.\n    Reviewers assigned to a group can see data of all users in that group.\n  ")]),s("div",[s("v-container",[s("v-layout",[s("v-flex",{staticClass:"mr-2",attrs:{xs4:""}},[s("v-text-field",{attrs:{label:"new group name"},model:{value:e.newGroupName,callback:function(t){e.newGroupName=t},expression:"newGroupName"}})],1),s("v-flex",{staticClass:"mr-2"},[s("v-text-field",{attrs:{label:"description"},model:{value:e.newGroupDescription,callback:function(t){e.newGroupDescription=t},expression:"newGroupDescription"}})],1),s("v-flex",{attrs:{xs1:""}},[s("v-btn",{attrs:{color:"primary",fab:"",depressed:"",small:"",disabled:!e.validGroup.valid},on:{click:e.addGroup}},[s("v-icon",{attrs:{dark:""}},[e._v("add")])],1)],1)],1),s("v-layout",[s("v-flex",[e.validGroup.message?s("p",[s("small",[e._v(e._s(e.validGroup.message))])]):e._e()])],1)],1)],1),s("div",[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.groupItems},scopedSlots:e._u([{key:"items",fn:function(t){return[s("td",[e._v(e._s(t.item.name))]),s("td",[e._v(e._s(t.item.description))]),s("td",[s("v-btn",{attrs:{color:"secondary",fab:"",small:"",depressed:""},on:{click:function(s){e.removeGroup(t.index)}}},[s("v-icon",{attrs:{dark:""}},[e._v("remove")])],1)],1)]}}])})],1)])},X=[],Z={name:"groups",data:()=>({newGroupName:"",newGroupDescription:"",headers:[{text:"Name",value:"name",sortable:!0,align:"left"},{text:"Description",value:"description",sortable:!1,align:"left"},{text:"remove"}],groupItems:[]}),computed:{currentApplet(){return this.$store.state.currentApplet},readyToContinue(){return this.groupItems.length>0},groups(){return this.currentApplet&&this.$store.state.currentApplet.groups||[]},validGroup(){if(!this.newGroupName)return{valid:!1,message:""};const e=h.a.filter(this.groupItems,e=>e.name===this.newGroupName).length;return e?{valid:!1,message:"you need a unique group name"}:{valid:!0}}},watch:{groups(){this.groupItems=this.groups}},mounted(){this.groupItems=this.groups},methods:{continueAction(){},addGroup(){const e=this.groupItems;e.push({name:this.newGroupName,description:this.newGroupDescription}),this.$store.commit("setGroups",e),this.newGroupName="",this.newGroupDescription=""},removeGroup(e){const t=this.groupItems;t.splice(e,1),this.$store.commit("setGroups",t)}}},ee=Z,te=Object(x["a"])(ee,W,X,!1,null,null,null),se=te.exports,ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("user-table",{attrs:{groups:e.groups,items:e.items},on:{addUser:e.addUser,addGroupToSelected:e.addGroupToSelected}},[s("template",{directives:[{name:"slot",rawName:"v-slot:header",arg:"header"}],slot:"header"},[s("h1",[e._v("Users")]),s("p",[e._v("\n        Send invitations to your users to participate in \n        "),s("b",[e._v(e._s(e.$store.state.currentApplet.applet["skos:prefLabel"]))])])]),s("template",{slot:"add"},[s("p",[e._v("Add a new user by their email address")])])],2)],1)},le=[],ne=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[e._t("header"),s("v-layout",[s("v-flex",[s("v-select",{attrs:{label:"add to selected to group",disabled:!e.selected.length,items:e.groups},model:{value:e.selectedGroup,callback:function(t){e.selectedGroup=t},expression:"selectedGroup"}})],1),s("v-flex",[s("v-btn",{attrs:{small:"",fab:"",disabled:!e.selected.length,color:"secondary"},on:{click:e.addGroupToSelected}},[s("v-icon",[e._v("add")])],1)],1),s("v-flex",[s("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),s("v-layout",{staticClass:"mt-3"},[s("v-flex",[s("v-data-table",{staticClass:"elevation-1",attrs:{items:e.items,headers:e.headers,search:e.search,pagination:e.pagination,"select-all":"","item-key":"email"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"headers",fn:function(t){return[s("tr",[s("th",[s("v-checkbox",{attrs:{"input-value":t.all,indeterminate:t.indeterminate,primary:"","hide-details":""},nativeOn:{click:function(t){return e.toggleAll(t)}}})],1),e._l(t.headers,function(t){return s("th",{key:t.text,class:["column sortable ",e.pagination.descending?"desc":"asc",t.value===e.pagination.sortBy?"active":""],on:{click:function(s){e.changeSort(t.value)}}},[s("v-icon",{attrs:{small:""}},[e._v("arrow_upward")]),e._v("\n              "+e._s(t.text)+"\n            ")],1)})],2)]}},{key:"items",fn:function(t){return[s("td",[s("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:t.selected,callback:function(s){e.$set(t,"selected",s)},expression:"props.selected"}})],1),s("td",[e._v(e._s(t.item.email))]),s("td",["accepted"===t.item.status?s("span",[e._v("\n              "+e._s(t.item.status)+"\n            ")]):s("span",[e._v("\n              "+e._s(t.item.status)+"\n              "),s("v-btn",{attrs:{small:"",color:"secondary",outline:""}},[e._v("resend")])],1)]),s("td",e._l(t.item.groups,function(t,a){return s("span",{key:"chip"+a},[s("v-chip",{attrs:{close:""},model:{value:t.active,callback:function(s){e.$set(t,"active",s)},expression:"chip.active"}},[e._v("\n                "+e._s(t.name)+"\n              ")])],1)}))]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1),s("div",{staticClass:"mt-3 pt-3"},[e._t("add")],2),s("v-layout",{staticClass:"mt-3"},[s("v-flex",{attrs:{xs6:"","mr-3":"","pr-3":""}},[s("v-text-field",{attrs:{label:"add new user by email"},model:{value:e.newUserEmail,callback:function(t){e.newUserEmail=t},expression:"newUserEmail"}})],1),s("v-flex",{attrs:{xs4:"","mr-3":"","pr-3":""}},[s("v-select",{attrs:{label:"group",items:e.groups},model:{value:e.newUserGroup,callback:function(t){e.newUserGroup=t},expression:"newUserGroup"}})],1),s("v-flex",{attrs:{xs2:""}},[s("v-btn",{attrs:{large:"",color:"success",disabled:!e.validAdd},on:{click:e.addUser}},[e._v("\n        Invite\n      ")])],1)],1)],2)},ie=[],re={name:"UserTable",props:{groups:{type:Array},items:{type:Array}},data:()=>({search:"",pagination:{sortBy:"email",descending:!1},newUserGroup:"",newUserEmail:"",selected:[],selectedGroup:"",headers:[{text:"user",value:"email"},{text:"status",value:"status"},{text:"groups",value:"groups",sortable:!1}]}),computed:{validAdd(){return!!(this.newUserEmail.indexOf("@")>0&&this.newUserGroup)}},methods:{toggleAll(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},changeSort(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)},addUser(){this.$emit("addUser",this.newUserEmail,this.newUserGroup),this.newUserGroup="",this.newUserEmail=""},addGroupToSelected(){this.$emit("addGroupToSelected",this.selectedGroup,this.selected)}}},oe=re,de=Object(x["a"])(oe,ne,ie,!1,null,null,null),ce=de.exports,ue={name:"users",components:{UserTable:ce},computed:{groups(){return h.a.map(this.$store.state.currentApplet.groups,e=>({text:e.name}))}},data:()=>({items:[{email:"anishakeshavan@gmail.com",groups:[{name:"all",active:!0}],status:"accepted"},{email:"someuser@test.com",groups:[{name:"all",active:!0},{name:"anisha",active:!0}],status:"pending"}]}),methods:{addUser(e,t){this.items.push({email:e,groups:[{name:t,active:!0}],status:"pending"})},addGroupToSelected(e,t){const s=h.a.map(t,e=>e.email);h.a.map(this.items,t=>{if(s.indexOf(t.email)>-1){t.groups=h.a.filter(t.groups,e=>e.active);const s=h.a.map(t.groups,e=>e.name);s.indexOf(e)<0&&t.groups.push({name:e,active:!0})}})}}},pe=ue,he=Object(x["a"])(pe,ae,le,!1,null,null,null),ve=he.exports,me=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},fe=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",[e._v("REviewers")])])}],ye={},be=Object(x["a"])(ye,me,fe,!1,null,null,null),_e=(be.exports,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",["absolute"===e.scheduleType?s("div",[s("Calendar",{ref:"calendar",attrs:{activities:e.activities}})],1):"relative"===e.scheduleType?s("div",[e._v("\n    relative schedule here.\n  ")]):s("div",[e._v("\n    "+e._s(e.scheduleType)+"\n  ")])])}),ge=[],$e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",{attrs:{id:"dayspan"}},[s("calendar-app",{ref:"app",attrs:{events:e.events,calendar:e.calendar,"read-only":e.readOnly,activities:e.activities},on:{change:e.saveState},scopedSlots:e._u([{key:"eventPopover",fn:function(t){return[s("calendar-event-popover",e._b({attrs:{"read-only":e.readOnly},on:{finish:e.saveState}},"calendar-event-popover",t,!1))]}},{key:"eventCreatePopover",fn:function(t){var a=t.placeholder,l=t.calendar;t.close;return[s("calendar-event-create-popover",{attrs:{"calendar-event":a,calendar:l,close:e.$refs.app.$refs.calendar.clearPlaceholder,activities:e.activities},on:{"create-edit":e.$refs.app.editPlaceholder,"create-popover-closed":e.saveState}})]}},{key:"eventTimeTitle",fn:function(t){var a=t.calendarEvent,l=t.details;return[s("div",[l.icon?s("v-icon",{staticClass:"ds-ev-icon",style:{color:l.forecolor},attrs:{size:"14"}},[e._v("\n          "+e._s(l.icon)+"\n        ")]):e._e(),s("strong",{staticClass:"ds-ev-title"},[e._v(e._s(l.title))])],1),s("div",{staticClass:"ds-ev-description"},[e._v(e._s(e.getCalendarTime(a)))])]}}])},[s("template",{slot:"menuRight"}),s("template",{slot:"drawerBottom"},[s("div",{staticClass:"pa-3"},[s("v-subheader",[e._v("Activities")]),e._l(e.activities,function(t){return s("v-checkbox",{key:t.name,attrs:{label:t.name,color:t.color},model:{value:t.visible,callback:function(s){e.$set(t,"visible",s)},expression:"act.visible"}})})],2)])],2)],1)},xe=[],ke=s("9abd"),je=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ds-expand ds-calendar-app"},[s("v-content",{staticClass:"ds-expand"},[s("v-container",{staticClass:"ds-calendar-container",staticStyle:{height:"100%"},attrs:{fluid:""}},[s("div",[s("v-tooltip",{attrs:{bottom:""}},[s("v-btn",{staticClass:"ds-skinny-button",attrs:{slot:"activator",depressed:"",icon:e.$vuetify.breakpoint.smAndDown},on:{click:e.setToday},slot:"activator"},[e.$vuetify.breakpoint.mdAndUp?s("span",[e._v(e._s(e.labels.today))]):s("v-icon",[e._v(e._s(e.labels.todayIcon))])],1),s("span",[e._v(e._s(e.todayDate))])],1),s("v-tooltip",{attrs:{bottom:""}},[s("v-btn",{staticClass:"ds-light-forecolor ds-skinny-button",attrs:{slot:"activator",icon:"",depressed:""},on:{click:e.prev},slot:"activator"},[s("v-icon",[e._v("keyboard_arrow_left")])],1),s("span",[e._v(e._s(e.prevLabel))])],1),s("v-tooltip",{attrs:{bottom:""}},[s("v-btn",{staticClass:"ds-light-forecolor ds-skinny-button",attrs:{slot:"activator",icon:"",depressed:""},on:{click:e.next},slot:"activator"},[s("v-icon",[e._v("keyboard_arrow_right")])],1),s("span",[e._v(e._s(e.nextLabel))])],1),s("h1",{staticClass:"title ds-light-forecolor",staticStyle:{display:"inline"}},[e._v("\n          "+e._s(e.summary)+"\n        ")]),s("span",{staticStyle:{"text-align":"right"}},[s("v-menu",[s("v-btn",{attrs:{slot:"activator",flat:""},slot:"activator"},[e._v("\n              "+e._s(e.currentType.label)+"\n              "),s("v-icon",[e._v("arrow_drop_down")])],1),s("v-list",e._l(e.types,function(t){return s("v-list-tile",{key:t.id,on:{click:function(s){e.currentType=t}}},[s("v-list-tile-content",[s("v-list-tile-title",[e._v(e._s(t.label))])],1),s("v-list-tile-action",[e._v(e._s(t.shortcut))])],1)}))],1)],1)],1),s("v-layout",{staticStyle:{height:"calc(100% - 200px)"},attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs2:""}},[s("div",[s("div",{staticClass:"px-3"},[s("h3",{staticClass:"mb-3 mt-3 pb-3"},[e._v("Activities")]),e._l(e.activities,function(e){return s("div",{key:e.name,staticClass:"mt-3 mb-3"},[s("ActivitySidebar",{attrs:{activity:e}})],1)})],2)])]),s("v-flex",{attrs:{xs10:""}},[s("ds-gestures",{on:{swipeleft:e.next,swiperight:e.prev}},[e.currentType.schedule?s("div",{staticClass:"ds-expand"},[e._t("calendarAppAgenda",[s("ds-agenda",e._g(e._b({attrs:{"read-only":e.readOnly,calendar:e.calendar},on:{add:e.add,edit:e.edit,"view-day":e.viewDay}},"ds-agenda",{$scopedSlots:e.$scopedSlots},!1),e.$listeners))],null,{$scopedSlots:e.$scopedSlots,$listeners:e.$listeners,calendar:e.calendar,add:e.add,edit:e.edit,viewDay:e.viewDay})],2):s("div",{staticClass:"ds-expand"},[e._t("calendarAppCalendar",[s("ds-calendar",e._g(e._b({ref:"calendar",attrs:{calendar:e.calendar,"read-only":e.readOnly},on:{add:e.add,"add-at":e.addAt,edit:e.edit,"view-day":e.viewDay,added:e.handleAdd,moved:e.handleMove}},"ds-calendar",{$scopedSlots:e.$scopedSlots},!1),e.$listeners))],null,{$scopedSlots:e.$scopedSlots,$listeners:e.$listeners,calendar:e.calendar,add:e.add,addAt:e.addAt,edit:e.edit,viewDay:e.viewDay,handleAdd:e.handleAdd,handleMove:e.handleMove})],2)])],1)],1),e._t("calendarAppEventDialog",[s("event-dialog",e._g(e._b({ref:"eventDialog",attrs:{calendar:e.calendar,"read-only":e.readOnly,activities:e.activities},on:{saved:e.eventFinish,actioned:e.eventFinish}},"event-dialog",{$scopedSlots:e.$scopedSlots},!1),e.$listeners))],null,{$scopedSlots:e.$scopedSlots,$listeners:e.$listeners,calendar:e.calendar,eventFinish:e.eventFinish}),e._t("calendarAppOptions",[s("v-dialog",e._b({ref:"optionsDialog",attrs:{fullscreen:e.$dayspan.fullscreenDialogs},model:{value:e.optionsVisible,callback:function(t){e.optionsVisible=t},expression:"optionsVisible"}},"v-dialog",e.optionsDialog,!1),[s("v-list",[e._l(e.options,function(t){return[s("v-list-tile",{key:t.text,on:{click:function(s){e.chooseOption(t)}}},[e._v("\n                "+e._s(t.text)+"\n              ")])]})],2)],1)],null,{optionsVisible:e.optionsVisible,optionsDialog:e.optionsDialog,options:e.options,chooseOption:e.chooseOption}),e._t("calendarAppPrompt",[s("v-dialog",e._b({ref:"promptDialog",model:{value:e.promptVisible,callback:function(t){e.promptVisible=t},expression:"promptVisible"}},"v-dialog",e.promptDialog,!1),[s("v-card",[s("v-card-title",[e._v(e._s(e.promptQuestion))]),s("v-card-actions",[s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.choosePrompt(!0)}}},[e._v("\n                "+e._s(e.labels.promptConfirm)+"\n              ")]),s("v-spacer"),s("v-btn",{attrs:{color:"secondary",flat:""},on:{click:function(t){e.choosePrompt(!1)}}},[e._v("\n                "+e._s(e.labels.promptCancel)+"\n              ")])],1)],1)],1)],null,{promptVisible:e.promptVisible,promptDialog:e.promptDialog,promptQuestion:e.promptQuestion,choosePrompt:e.choosePrompt}),e._t("calendarAppAdd",[e.readOnly?e._e():s("v-fab-transition",[s("v-btn",{staticClass:"ds-add-event-today",staticStyle:{bottom:"70px"},attrs:{color:"primary",fixed:"",bottom:"",right:"",fab:""},on:{click:e.addToday},model:{value:e.allowsAddToday,callback:function(t){e.allowsAddToday=t},expression:"allowsAddToday"}},[s("v-icon",[e._v("add")])],1)],1)],null,{allowsAddToday:e.allowsAddToday,addToday:e.addToday}),e._t("containerInside",null,null,{events:e.events,calendar:e.calendar})],2)],1)],1)},we=[],Ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",e._b({attrs:{fullscreen:e.$dayspan.fullscreenDialogs},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},"v-dialog",e.dialogProps,!1),[e.schedule&&e.details?s("v-card",[s("v-card-text",[s("event",e._b({attrs:{"target-details":e.details,"target-schedule":e.schedule,calendar:e.calendar,"calendar-event":e.calendarEvent,day:e.day,activities:e.activities,"read-only":e.readOnly},on:{saved:e.saved,cancel:e.cancel,actioned:e.actioned,"event-create":e.eventCreate,"event-update":e.eventUpdate,"event-remove":e.eventRemove}},"event",{$scopedSlots:e.$scopedSlots},!1),[[e._v("\n          Notifications\n        ")]],2)],1)],1):e._e()],1)},De=[],Ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ds-event",class:e.classes},[s("div",{staticClass:"ds-event-header ds-event-area"},[e.hasCancel?s("div",{staticClass:"ds-event-cancel"},[e._t("scheduleCancel",[s("v-tooltip",{attrs:{bottom:""}},[s("v-btn",{staticClass:"ds-button",attrs:{slot:"activator",icon:""},on:{click:e.cancel},slot:"activator"},[s("v-icon",{attrs:{dark:""}},[e._v("clear")])],1),s("span",{domProps:{innerHTML:e._s(e.labels.cancel)}})],1)],null,{cancel:e.cancel,labels:e.labels})],2):e._e(),s("div",{staticClass:"ds-event-actions"},[e._t("scheduleSave",[e.isReadOnly?e._e():s("v-btn",{staticClass:"ds-button-tall ml-3 mt-0 mb-2",attrs:{depressed:"",color:"primary",disabled:!e.canSave},on:{click:function(t){return t.stopPropagation(),e.save(t)}}},[s("span",{domProps:{innerHTML:e._s(e.labels.save)}})])],null,{hasSave:e.hasSave,save:e.save,labels:e.labels,readOnly:e.readOnly}),e._t("scheduleActions",[e.calendarEvent&&!e.isReadOnly?s("ds-schedule-actions",e._g(e._b({attrs:{schedule:e.schedule,"calendar-event":e.calendarEvent,calendar:e.calendar},on:{finish:e.actioned}},"ds-schedule-actions",{$scopedSlots:e.$scopedSlots},!1),e.$listeners),[s("v-btn",{staticClass:"ds-button-tall ml-1 mt-0 mb-2",attrs:{depressed:""}},[e._v("\n             "+e._s(e.labels.moreActions)+"\n          ")])],1):e._e()],null,{calendarEvent:e.calendarEvent,schedule:e.schedule,calendar:e.calendar,actioned:e.actioned,readOnly:e.readOnly})],2),e._t("scheduleTitle",[s("v-select",{attrs:{items:e.activityNames,placeholder:"Select Activity"},model:{value:e.details.title,callback:function(t){e.$set(e.details,"title",t)},expression:"details.title"}})],null,{schedule:e.schedule,schedule:e.schedule,calendarEvent:e.calendarEvent,details:e.details})],2),s("div",{staticClass:"ds-event-body ds-event-area"},[e._t("schedule",[s("my-schedule",{attrs:{schedule:e.schedule,day:e.day,"read-only":e.readOnly}})],null,e.slotData)],2),e.hasTabs?s("v-layout",{attrs:{row:""}},[s("v-flex",{staticClass:"mt-2",attrs:{xs12:""}},[s("v-tabs",{staticClass:"text--primary",model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[e.hasDetails?s("v-tab",{attrs:{href:"#details"}},[e._v("\n          "+e._s(e.labels.tabs.details)+"\n        ")]):e._e(),e.showForecast?s("v-tab",{attrs:{href:"#forecast"}},[e._v("\n          "+e._s(e.labels.tabs.forecast)+"\n        ")]):e._e(),e.showExclusions?s("v-tab",{attrs:{href:"#exclusions"}},[e._v("\n          "+e._s(e.labels.tabs.removed)+"\n        ")]):e._e(),e.showInclusions?s("v-tab",{attrs:{href:"#inclusions"}},[e._v("\n          "+e._s(e.labels.tabs.added)+"\n        ")]):e._e(),e.showCancels?s("v-tab",{attrs:{href:"#cancelled"}},[e._v("\n          "+e._s(e.labels.tabs.cancelled)+"\n        ")]):e._e(),e._t("eventTabsExtra",null,null,e.slotData),e.hasDetails?s("v-tab-item",{attrs:{value:"details"}},[s("v-card",{attrs:{flat:""}},[s("v-card-text",[e._v("\n              "+e._s(e.details)+"\n              "),s("br"),s("br"),e._v("\n              max # of responses\n              "),s("v-text-field",{attrs:{"single-line":"","hide-details":"",solo:"",flat:"",type:"number",value:1},model:{value:e.details.maxResponses,callback:function(t){e.$set(e.details,"maxResponses",t)},expression:"details.maxResponses"}}),s("Notification",{attrs:{details:e.details},on:{updatedNotification:function(t){e.details.notifications=t}}})],1)],1)],1):e._e(),e.showForecast?s("v-tab-item",{attrs:{value:"forecast",lazy:""}},[s("v-card",{attrs:{flat:""}},[s("v-card-text",[e._t("eventForecast",[s("ds-schedule-forecast",{attrs:{schedule:e.schedule,day:e.day,"read-only":e.readOnly}})],null,e.slotData)],2)],1)],1):e._e(),e.showExclusions?s("v-tab-item",{attrs:{value:"exclusions",lazy:""}},[s("v-card",{attrs:{flat:""}},[s("v-card-text",[e._t("eventExclusions",[s("ds-schedule-modifier",{attrs:{description:e.labels.exclusions,modifier:e.schedule.exclude,"read-only":e.readOnly}})],null,e.slotData)],2)],1)],1):e._e(),e.showInclusions?s("v-tab-item",{attrs:{value:"inclusions",lazy:""}},[s("v-card",{attrs:{flat:""}},[s("v-card-text",[e._t("eventInclusions",[s("ds-schedule-modifier",{attrs:{description:e.labels.inclusions,modifier:e.schedule.include,"read-only":e.readOnly}})],null,e.slotData)],2)],1)],1):e._e(),e.showCancels?s("v-tab-item",{attrs:{value:"cancelled",lazy:""}},[s("v-card",{attrs:{flat:""}},[s("v-card-text",[e._t("eventCancels",[s("ds-schedule-modifier",{attrs:{description:e.labels.cancelled,modifier:e.schedule.cancel,"read-only":e.readOnly}})],null,e.slotData)],2)],1)],1):e._e(),e._t("eventTabItemsExtra",null,null,e.slotData)],2)],1)],1):e._e()],1)},Ce=[],Se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-checkbox",{attrs:{label:"turn on notifications"},model:{value:e.details.useNotifications,callback:function(t){e.$set(e.details,"useNotifications",t)},expression:"details.useNotifications"}}),e.details.useNotifications?s("div",e._l(e.notificationTimes,function(t,a){return s("div",{key:"notifi_"+a},[s("div",{staticClass:"ds-time-cell"},[s("hr",{staticStyle:{"margin-bottom":"1.5em","margin-top":"1.5em"}}),s("label",[e._v("start notification at")]),s("v-text-field",{attrs:{disabled:!e.details.useNotifications,"single-line":"","hide-details":"",solo:"",flat:"",type:"time"},model:{value:t.start,callback:function(s){e.$set(t,"start",s)},expression:"notification.start"}})],1),t.start?s("v-checkbox",{attrs:{label:"only notify if activity hasn't been completed by "+t.start},model:{value:t.notifyIfIncomplete,callback:function(s){e.$set(t,"notifyIfIncomplete",s)},expression:"notification.notifyIfIncomplete"}}):e._e(),s("v-checkbox",{attrs:{label:"random notifications"},model:{value:t.random,callback:function(s){e.$set(t,"random",s)},expression:"notification.random"}}),s("label",[e._v("randomize ends at")]),s("v-text-field",{attrs:{disabled:!t.random,"single-line":"","hide-details":"",solo:"",flat:"",type:"time"},model:{value:t.end,callback:function(s){e.$set(t,"end",s)},expression:"notification.end"}}),s("v-btn",{attrs:{depressed:"",color:"secondary",fab:"",small:""},on:{click:function(t){e.add(a)}}},[s("v-icon",{attrs:{dark:""}},[e._v("add")])],1),a?s("v-btn",{attrs:{depressed:"",color:"secondary",fab:"",small:""},on:{click:function(t){e.remove(a)}}},[s("v-icon",{attrs:{dark:""}},[e._v("remove")])],1):e._e()],1)})):e._e()],1)},Oe=[],Te={name:"Notification",props:{details:{type:Object}},data(){return{notificationTimes:[],notificationItem:{start:null,end:null,random:!1,notifyIfIncomplete:!1}}},watch:{notificationTimes:{deep:!0,handler(){this.$emit("updatedNotification",this.notificationTimes)}}},created(){this.notificationTimes.length||this.notificationTimes.push(h.a.clone(this.notificationItem))},mounted(){this.details.notifications&&(this.notificationTimes=this.details.notifications)},methods:{add(e){const t=h.a.clone(this.notificationTimes);t.splice(e+1,0,h.a.clone(this.notificationItem)),this.notificationTimes=t,this.$emit("updatedNotification",this.notificationTimes)},remove(e){const t=h.a.clone(this.notificationTimes);t.splice(e,1),this.notificationTimes=t,this.$emit("updatedNotification",this.notificationTimes)}}},Pe=Te,Ge=Object(x["a"])(Pe,Se,Oe,!1,null,null,null),Ie=Ge.exports,Re=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ds-schedule",class:e.classes},[e.showRange?s("div",{staticClass:"ds-schedule-span"},[e._t("scheduleSpan",[s("v-checkbox",{attrs:{label:"relative to first response"},model:{value:e.schedule.relative,callback:function(t){e.$set(e.schedule,"relative",t)},expression:"schedule.relative"}},[s("template",{slot:"label"},[s("div",[e._v("\n          Relative to first response\n                "),s("p",[s("small",[e._v("\n        if this is selected, all dates and times entered below\n        will be relative to when the user first responds\n      ")])])])])],2),s("ds-schedule-span",{attrs:{schedule:e.schedule,day:e.day,"read-only":e.readOnly}})],null,{schedule:e.schedule,day:e.day})],2):e._e(),s("div",{staticClass:"ds-schedule-type-line"},[s("div",{staticClass:"ds-schedule-type"},[e._t("scheduleType",[s("ds-schedule-type",{attrs:{day:e.day,schedule:e.schedule,"read-only":e.readOnly},on:{change:e.setType,custom:e.custom}})],null,{schedule:e.schedule,day:e.day,setType:e.setType,custom:e.custom})],2)]),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[e._t("scheduleTimes",[s("ds-schedule-times",{attrs:{schedule:e.schedule,"read-only":e.readOnly}})],null,{schedule:e.schedule,day:e.day})],2),e.isReadOnly?e._e():s("v-flex",{attrs:{xs12:""}},[e._t("scheduleFooter",null,null,{schedule:e.schedule,day:e.day}),s("ds-schedule-type-custom-dialog",e._b({ref:"customScheduler"},"ds-schedule-type-custom-dialog",{$scopedSlots:e.$scopedSlots},!1))],2)],1)],1)},Le=[],Ue={name:"dsSchedule",props:{schedule:{required:!0,type:ke["Schedule"]},day:{type:ke["Day"]},readOnly:{type:Boolean,default:!1},labels:{validate(e){return this.$dsValidate(e,"labels")},default(){return this.$dsDefaults().labels}},allowsRange:{type:Boolean,default(){return this.$dsDefaults().allowsRange}}},data:e=>({}),computed:{showRange(){return this.allowsRange&&!this.schedule.isSingleEvent()},classes(){return{"ds-schedule-small":this.$vuetify.breakpoint.smAndDown}},isReadOnly(){return this.readOnly||this.$dayspan.readOnly}},methods:{custom(){this.$refs.customScheduler.edit(this.schedule,this.day)},setType(e){this.$emit("type",e)}}},Be=Ue,Ne=(s("18b7"),Object(x["a"])(Be,Re,Le,!1,null,null,null)),Ve=Ne.exports,ze={name:"dsEvent",components:{Notification:Ie,mySchedule:Ve},props:{activities:{type:Array,required:!0},targetSchedule:{required:!0,type:ke["Schedule"]},targetDetails:{type:Object,required:!0},calendarEvent:{type:ke["CalendarEvent"]},calendar:{type:ke["Calendar"]},day:{type:ke["Day"]},readOnly:{type:Boolean,default:!1},labels:{validate(e){return this.$dsValidate(e,"labels")},default(){return this.$dsDefaults().labels}},hasTitle:{type:Boolean,default(){return this.$dsDefaults().hasTitle}},hasCancel:{type:Boolean,default(){return this.$dsDefaults().hasCancel}},hasSave:{type:Boolean,default(){return this.$dsDefaults().hasSave}},hasTabs:{type:Boolean,default(){return this.$dsDefaults().hasTabs}},hasDetails:{type:Boolean,default(){return this.$dsDefaults().hasDetails}},hasForecast:{type:Boolean,default(){return this.$dsDefaults().hasForecast}},hasExclusions:{type:Boolean,default(){return this.$dsDefaults().hasExclusions}},hasInclusions:{type:Boolean,default(){return this.$dsDefaults().hasInclusions}},hasCancelled:{type:Boolean,default(){return this.$dsDefaults().hasCancelled}},busyOptions:{type:Array,default(){return this.$dsDefaults().busyOptions}}},data:e=>({tab:"details",schedule:new ke["Schedule"],details:e.$dayspan.getDefaultEventDetails()}),watch:{targetSchedule:{handler:"updateSchedule",immediate:!0},targetDetails:{handler:"updateDetails",immediate:!0},title(){const e=h.a.filter(this.activities,e=>e.name===this.title);this.details.URI=e[0].URI}},computed:{title(){return this.details.title},activityNames(){return h.a.map(this.activities,e=>e.name)},slotData(){return{targetSchedule:this.targetSchedule,targetDetails:this.targetDetails,schedule:this.schedule,details:this.details,busyOptions:this.busyOptions,day:this.day,calendar:this.calendar,calendarEvent:this.calendarEvent,labels:this.labels,readOnly:this.readOnly}},classes(){return{"ds-has-cancel":this.hasCancel,"ds-event-small":this.$vuetify.breakpoint.smAndDown}},canSave(){return this.$dayspan.isValidEvent(this.details,this.schedule,this.calenderEvent)},repeats(){return!this.schedule.isSingleEvent()},showTitle(){return this.$dayspan.supports.title&&this.hasTitle},showCancels(){return this.$dayspan.features.cancel&&this.repeats&&this.hasCancelled&&!this.schedule.cancel.isEmpty()},showForecast(){return this.$dayspan.features.forecast&&this.repeats&&this.hasForecast},showExclusions(){return this.$dayspan.features.exclude&&this.repeats&&this.hasExclusions&&!this.schedule.exclude.isEmpty()},showInclusions(){return this.$dayspan.features.include&&this.repeats&&this.hasInclusions&&!this.schedule.include.isEmpty()},isReadOnly(){return this.readOnly||this.$dayspan.readOnly}},methods:{save(){var e=this.getEvent("save");this.$emit("save",e),e.handled||(e.target&&e.schedule&&e.target.set(e.schedule),e.calendarEvent?(this.$dayspan.setEventDetails(e.details,e.targetDetails,e.calendarEvent.event,e.calendarEvent),this.$emit("update",e),this.$emit("event-update",e.calendarEvent.event)):e.create&&(e.created=this.$dayspan.createEvent(e.details,e.schedule),e.calendar&&(e.calendar.addEvent(e.created),e.added=!0),this.$emit("create",e)),e.calendar&&e.refresh&&e.calendar.refreshEvents(),e.handled=!0,e.created&&this.$emit("event-create",e.created)),this.$emit("saved",e)},actioned(e){this.$emit("actioned",e)},cancel(){this.$emit("cancel",this.getEvent("cancel"))},updateSchedule(e){this.schedule=e.clone(),this.tab="details"},updateDetails(e){this.details=this.$dayspan.copyEventDetails(e),this.tab="details"},getEvent(e,t={}){return ke["Functions"].extend({type:e,day:this.day,schedule:this.schedule,target:this.targetSchedule,details:this.details,targetDetails:this.targetDetails,calendar:this.calendar,calendarEvent:this.calendarEvent,handled:!1,refresh:!0,create:!0,added:!1,$vm:this,$element:this.$el},t)}}},Fe=ze,He=(s("caf9"),Object(x["a"])(Fe,Ee,Ce,!1,null,"5546ca60",null)),Me=He.exports,qe={name:"dsEventDialog",components:{Event:Me},props:{activities:{type:Array,required:!0},calendar:{type:ke["Calendar"]},dialogProps:{validate(e){return this.$dsValidate(e,"dialogProps")},default(){return this.$dsDefaults().dialogProps}},readOnly:{type:Boolean,default:!1}},data:e=>({open:!1,calendarEvent:null,details:null,schedule:null,day:null}),computed:{},methods:{addToday(){this.add(this.$dayspan.today)},add(e,t){this.addSchedule(e,ke["Schedule"].forDay(e,t))},addAt(e,t){this.addSchedule(e,ke["Schedule"].forTime(e,t))},addSpan(e){this.addSchedule(e.start,ke["Schedule"].forSpan(e))},addPlaceholder(e,t){this.addSchedule(e.start,e.schedule,t||e.event.data)},addSchedule(e,t,s){this.day=e,this.calendarEvent=null,this.details=s||this.$dayspan.getDefaultEventDetails(),this.schedule=t,this.finishOpen()},edit(e){this.day=e.start,this.calendarEvent=e,this.details=e.event.data||this.$dayspan.getDefaultEventDetails(),this.schedule=e.schedule,this.finishOpen()},finishOpen(){var e=this.getEvent("open");this.$emit("open",e),e.open&&(this.open=!0)},eventCreate(e){this.$emit("event-create",e)},eventUpdate(e){this.$emit("event-update",e)},eventRemove(e){this.$emit("event-remove",e)},actioned(e){e.hide=!0,this.$emit("actioned",e),this.finishClose(e)},cancel(e){e.hide=!0,this.$emit("cancel",e),this.finishClose(e)},saved(e){e.hide=!0,this.$emit("saved",e),this.finishClose(e)},finishClose(e){e.hide&&(this.open=!1,this.$emit("close",e)),this.schedule=null,this.details=null},getEvent(e,t={}){return ke["Functions"].extend({type:e,day:this.day,schedule:this.schedule,calendar:this.calendar,calendarEvent:this.calendarEvent,handled:!1,open:!0,$vm:this,$element:this.$el},t)}}},Qe=qe,Je=(s("dc80"),Object(x["a"])(Qe,Ae,De,!1,null,null,null)),Ye=Je.exports,Ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-card",{attrs:{dark:"",color:e.color}},[s("v-card-title",[e._v(e._s(e.activity.name))])],1)],1)},We=[],Xe={name:"activitysidebar",props:{activity:{type:Object,required:!0}},computed:{color(){return this.getHexColor(this.activity.color)}},data:()=>({}),methods:{getHexColor(e){return h.a.filter(this.$dayspan.colors,t=>t.text===e)[0].value}}},Ze=Xe,et=Object(x["a"])(Ze,Ke,We,!1,null,null,null),tt=et.exports,st={name:"dsCalendarApp",components:{EventDialog:Ye,ActivitySidebar:tt},props:{activities:{type:Array},events:{type:Array},calendar:{type:ke["Calendar"],default(){return ke["Calendar"].months()}},readOnly:{type:Boolean,default:!1},types:{type:Array,default(){return this.$dsDefaults().types}},allowsAddToday:{type:Boolean,default(){return this.$dsDefaults().allowsAddToday}},formats:{validate(e){return this.$dsValidate(e,"formats")},default(){return this.$dsDefaults().formats}},labels:{validate(e){return this.$dsValidate(e,"labels")},default(){return this.$dsDefaults().labels}},styles:{validate(e){return this.$dsValidate(e,"styles")},default(){return this.$dsDefaults().styles}},optionsDialog:{validate(e){return this.$dsValidate(e,"optionsDialog")},default(){return this.$dsDefaults().optionsDialog}},promptDialog:{validate(e){return this.$dsValidate(e,"promptDialog")},default(){return this.$dsDefaults().promptDialog}}},data:e=>({drawer:null,optionsVisible:!1,options:[],promptVisible:!1,promptQuestion:"",promptCallback:null}),watch:{events:"applyEvents",calendar:"applyEvents"},computed:{currentType:{get(){return this.types.find(e=>e.type===this.calendar.type&&e.size===this.calendar.size)||this.types[0]},set(e){this.rebuild(void 0,!0,e)}},summary(){let e=this.$vuetify.breakpoint.xs;if(e)return this.calendar.start.format(this.formats.xs);let t=this.$vuetify.breakpoint.mdAndUp;return this.calendar.summary(!1,!t,!1,!t)},todayDate(){return this.$dayspan.today.format(this.formats.today)},nextLabel(){return this.labels.next(this.currentType)},prevLabel(){return this.labels.prev(this.currentType)},toolbarStyle(){let e=this.$vuetify.breakpoint.lgAndUp;return e?this.styles.toolbar.large:this.styles.toolbar.small},hasCreatePopover(){return!!this.$scopedSlots.eventCreatePopover},canAddDay(){return this.$dayspan.features.addDay&&!this.readOnly&&!this.$dayspan.readOnly},canAddTime(){return this.$dayspan.features.addTime&&!this.readOnly&&!this.$dayspan.readOnly}},mounted(){this.$dayspan.promptOpen||(this.$dayspan.promptOpen=((e,t)=>{this.promptVisible=!1,this.promptQuestion=e,this.promptCallback=t,this.promptVisible=!0}))},methods:{setState(e){e.eventSorter=e.listTimes?ke["Sorts"].List([ke["Sorts"].FullDay,ke["Sorts"].Start]):ke["Sorts"].Start,this.calendar.set(e),this.triggerChange()},applyEvents(){this.events&&(this.calendar.removeEvents(),this.calendar.addEvents(this.events))},isType(e,t){let s=this.calendar;return s.type===e.type&&s.size===e.size&&(!t||s.span.matchesDay(t))},rebuild(e,t,s){let a=s||this.currentType||this.types[2];if(this.isType(a,e)&&!t)return;let l={type:a.type,size:a.size,around:e,eventsOutside:!0,preferToday:!1,listTimes:a.listTimes,updateRows:a.updateRows,updateColumns:a.listTimes,fill:!a.listTimes,otherwiseFocus:a.focus,repeatCovers:a.repeat};this.setState(l)},next(){this.calendar.unselect().next(),this.triggerChange()},prev(){this.calendar.unselect().prev(),this.triggerChange()},setToday(){this.rebuild(this.$dayspan.today)},viewDay(e){this.rebuild(e,!1,this.types[0])},edit(e){let t=this.$refs.eventDialog;t.edit(e)},editPlaceholder(e){let t=e.calendarEvent,s=e.details,a=this.$refs.eventDialog,l=this.$refs.calendar;a.addPlaceholder(t,s),a.$once("close",l.clearPlaceholder)},add(e){if(!this.canAddDay)return;let t=this.$refs.eventDialog,s=this.$refs.calendar,a=!this.hasCreatePopover;s.addPlaceholder(e,!0,a),a&&(t.add(e),t.$once("close",s.clearPlaceholder))},addAt(e){if(!this.canAddTime)return;let t=this.$refs.eventDialog,s=this.$refs.calendar,a=!this.hasCreatePopover,l=e.day.withHour(e.hour);s.addPlaceholder(l,!1,a),a&&(t.addAt(e.day,e.hour),t.$once("close",s.clearPlaceholder))},addToday(){if(!this.canAddDay)return;let e=this.$refs.eventDialog,t=this.$refs.calendar,s=!this.hasCreatePopover||!t,a=this.$dayspan.today;if(!this.calendar.filled.matchesDay(a)){let e=this.calendar.days[0],t=this.calendar.days[this.calendar.days.length-1],s=Math.abs(e.currentOffset),l=Math.abs(t.currentOffset);a=s<l?e:t}t&&t.addPlaceholder(a,!0,s),s&&(e.add(a),t&&e.$once("close",t.clearPlaceholder))},handleAdd(e){let t=this.$refs.eventDialog,s=this.$refs.calendar;e.handled=!0,this.hasCreatePopover?s.placeholderForCreate=!0:(e.placeholder.fullDay?t.add(e.span.start,e.span.days(ke["Op"].UP)):t.addSpan(e.span),t.$once("close",e.clearPlaceholder))},handleMove(e){let t=e.calendarEvent,s=e.target,a=s.start,l=t.time.start,n=t.schedule,i=[];e.handled=!0;let r={cancel:()=>{e.clearPlaceholder()},single:()=>{t.move(a),this.eventsRefresh(),e.clearPlaceholder(),this.$emit("event-update",t.event)},instance:()=>{t.move(a),this.eventsRefresh(),e.clearPlaceholder(),this.$emit("event-update",t.event)},duplicate:()=>{n.setExcluded(a,!1),this.eventsRefresh(),e.clearPlaceholder(),this.$emit("event-update",t.event)},all:()=>{n.moveTime(l.asTime(),a.asTime()),this.eventsRefresh(),e.clearPlaceholder(),this.$emit("event-update",t.event)}};i.push({text:this.labels.moveCancel,callback:r.cancel}),n.isSingleEvent()?(i.push({text:this.labels.moveSingleEvent,callback:r.single}),this.$dayspan.features.moveDuplicate&&i.push({text:this.labels.moveDuplicate,callback:r.duplicate})):(this.$dayspan.features.moveInstance&&i.push({text:this.labels.moveOccurrence,callback:r.instance}),this.$dayspan.features.moveDuplicate&&i.push({text:this.labels.moveDuplicate,callback:r.duplicate}),this.$dayspan.features.moveAll&&!n.isFullDay()&&a.sameDay(l)&&i.push({text:this.labels.moveAll,callback:r.all})),this.options=i,this.optionsVisible=!0},chooseOption(e){e&&e.callback(),this.optionsVisible=!1},choosePrompt(e){this.promptCallback(e),this.promptVisible=!1},eventFinish(e){this.triggerChange()},eventsRefresh(){this.calendar.refreshEvents(),this.triggerChange()},triggerChange(){this.$emit("change",{calendar:this.calendar})}}},at=st,lt=(s("87b5"),Object(x["a"])(at,je,we,!1,null,null,null)),nt=lt.exports,it=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{staticClass:"ds-calendar-event-popover-card",class:e.classes},[s("v-toolbar",{style:e.styleHeader,attrs:{extended:"",flat:""}},[s("v-toolbar-title",{attrs:{slot:"extension"},slot:"extension"},[s("v-select",{attrs:{items:e.activityNames,placeholder:"Select Activity"},model:{value:e.details.title,callback:function(t){e.$set(e.details,"title",t)},expression:"details.title"}})],1),e.details.readonly?e._e():s("v-btn",{attrs:{color:"secondary",small:"",absolute:"",bottom:"",left:"",fab:"",icon:""},on:{click:e.edit}},[s("v-icon",[e._v(e._s(e.icons.edit))])],1),e._t("eventCreatePopoverToolbarLeft",null,null,e.slotData),s("v-spacer"),e._t("eventCreatePopoverToolbarRight",null,null,e.slotData),e._t("eventCreatePopoverToolbarSave",[s("v-btn",{staticClass:"ds-create-popover-save",style:e.styleText,attrs:{flat:"",disabled:!e.isValid},on:{click:e.save}},[s("v-icon",{attrs:{left:""}},[e._v(e._s(e.icons.save))]),s("span",[e._v(e._s(e.labels.save))])],1)],null,e.slotData),e._t("eventCreatePopoverToolbarClose",[s("v-btn",{style:e.styleText,attrs:{icon:""},on:{click:e.close}},[s("v-icon",[e._v(e._s(e.icons.close))])],1)],null,e.slotData)],2),s("v-card-text",[e._t("eventCreatePopoverBodyTop",null,null,e.slotData),s("v-list",[s("v-list-tile",[s("v-list-tile-avatar",[s("v-icon",[e._v("access_time")])],1),s("v-list-tile-content",[e._t("eventCreatePopoverOccurs",[s("v-list-tile-title",[e._v(e._s(e.startDate))]),s("v-list-tile-sub-title",[e._v(e._s(e.occurs))])],null,e.slotData)],2)],1)],1),e._t("eventCreatePopoverBodyBottom",null,null,e.slotData)],2),e._t("eventCreatePopoverActions",null,null,e.slotData)],2)},rt=[],ot={name:"dsCalendarEventCreatePopover",props:{activities:{required:!0,type:Array},calendarEvent:{required:!0,type:ke["CalendarEvent"]},calendar:{required:!0,type:ke["Calendar"]},close:{type:Function},formats:{validate(e){return this.$dsValidate(e,"formats")},default(){return this.$dsDefaults().formats}},icons:{validate(e){return this.$dsValidate(e,"icons")},default(){return this.$dsDefaults().icons}},labels:{validate(e){return this.$dsValidate(e,"labels")},default(){return this.$dsDefaults().labels}},prompts:{validate(e){return this.$dsValidate(e,"prompts")},default(){return this.$dsDefaults().prompts}},busyOptions:{type:Array,default(){return this.$dsDefaults().busyOptions}}},watch:{title(){const e=h.a.filter(this.activities,e=>e.name===this.title),t=e[0].color,s=h.a.filter(this.$dayspan.colors,e=>e.text===t)[0].value;this.details.color=s,this.details.URI=e[0].URI}},computed:{title(){return this.details.title},activityNames(){return h.a.map(this.activities,e=>e.name)},slotData(){return{calendarEvent:this.calendarEvent,calendar:this.calendar,close:this.close,details:this.details}},classes(){return{"ds-event-cancelled":this.calendarEvent.cancelled}},styleHeader(){return{backgroundColor:this.details.color,color:this.details.forecolor}},styleText(){return{color:this.details.forecolor}},startDate(){return this.calendarEvent.start.format(this.formats.start)},busyness(){return this.details.busy?this.labels.busy:this.labels.free},isValid(){return this.$dayspan.isValidEvent(this.details,this.calendarEvent.schedule,this.calendarEvent)},occurs(){return this.$dayspan.getEventOccurrence(this.calendarEvent.schedule,this.calendarEvent.start,this.labels,this.formats)}},data:e=>({details:e.buildDetails()}),methods:{edit(){var e=this.getEvent("create-edit");this.$emit("create-edit",e),this.finishEvent(e)},save(){let e=this.getEvent("creating");this.$emit("creating",e),!e.handled&&e.details&&e.calendarEvent&&(e.created=e.calendarEvent.event,this.$dayspan.setEventDetails(e.details,e.created.data,e.created,e.calendarEvent),e.calendar&&(e.calendar.addEvent(e.created),e.added=!0),this.$emit("created",e),e.calendar&&e.refresh&&e.calendar.refreshEvents(),e.handled=!0,this.$emit("event-create",e.created)),this.finishEvent(e)},finishEvent(e){e.close&&(this.close(),this.$emit("create-popover-closed",e))},buildDetails(){let e=this.$dayspan.copyEventDetails(this.calendarEvent.event.data);return e.title="",e},getEvent(e,t={}){return ke["Functions"].extend({type:e,calendarEvent:this.calendarEvent,calendar:this.calendar,close:this.close,details:this.details,handled:!1,added:!1,refresh:!0,close:!0,$vm:this,$element:this.$el},t)}}},dt=ot,ct=(s("4c3c"),Object(x["a"])(dt,it,rt,!1,null,"46a6623c",null)),ut=ct.exports,pt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{staticClass:"ds-calendar-event-popover-card",class:e.classes},[s("v-toolbar",{style:e.styleHeader,attrs:{extended:"",flat:""}},[s("v-toolbar-title",{attrs:{slot:"extension"},slot:"extension"},[e._v("\n     "+e._s(e.details.title)+"\n     "),e.details.icon?s("v-icon",{style:e.styleButton},[e._v("\n       "+e._s(e.details.icon)+"\n     ")]):e._e()],1),e.allowEdit?s("v-btn",{attrs:{color:"secondary",small:"",absolute:"",bottom:"",left:"",fab:"",icon:""},on:{click:e.edit}},[s("v-icon",[e._v("edit")])],1):e._e(),e._t("eventPopoverToolbarLeft",null,null,e.slotData),s("v-spacer"),e._t("eventPopoverToolbarRight",null,null,e.slotData),e._t("eventPopoverToolbarActions",[e.isReadOnly?e._e():s("v-tooltip",{attrs:{bottom:""}},[s("ds-schedule-actions",e._g(e._b({attrs:{slot:"activator",schedule:e.calendarEvent.schedule,"calendar-event":e.calendarEvent,calendar:e.calendar},slot:"activator"},"ds-schedule-actions",{$scopedSlots:e.$scopedSlots},!1),e.$listeners),[s("v-btn",{style:e.styleButton,attrs:{icon:""}},[s("v-icon",[e._v("more_vert")])],1)],1),s("span",[e._v(e._s(e.labels.options))])],1)],null,e.slotData),e._t("eventPopoverToolbarClose",[s("v-btn",{style:e.styleButton,attrs:{icon:""},on:{click:e.close}},[s("v-icon",[e._v("close")])],1)],null,e.slotData)],2),s("v-card-text",[e._t("eventPopoverBodyTop",null,null,e.slotData),s("v-list",{attrs:{dense:""}},[s("v-list-tile",[s("v-list-tile-avatar",[s("v-icon",[e._v("access_time")])],1),s("v-list-tile-content",[e._t("eventPopoverOccurs",[s("v-list-tile-title",[e._v(e._s(e.startDate))]),s("v-list-tile-sub-title",[e._v(e._s(e.occurs))])],null,e.slotData)],2)],1),e.details.location?s("v-list-tile",[s("v-list-tile-avatar",[s("v-icon",[e._v("location_on")])],1),s("v-list-tile-content",[e._t("eventPopoverLocation",[s("v-list-tile-title",[s("span",{domProps:{innerHTML:e._s(e.details.location)}})])],null,e.slotData)],2)],1):e._e(),e.details.description?s("v-list-tile",[s("v-list-tile-avatar",[s("v-icon",[e._v("subject")])],1),s("v-list-tile-content",[e._t("eventPopoverDescription",[s("v-list-tile-title",[s("span",{domProps:{innerHTML:e._s(e.details.description)}})])],null,e.slotData)],2)],1):e._e(),e.details.notify?s("v-list-tile",[s("v-list-tile-avatar",[s("v-icon",[e._v("notifications")])],1),s("v-list-tile-content",[e._t("eventPopoverNotifications",[s("v-list-tile-title",[s("span",{domProps:{innerHTML:e._s(e.details.notify)}})])],null,e.slotData)],2)],1):e._e(),e.details.calendar?s("v-list-tile",[s("v-list-tile-avatar",[s("v-icon",[e._v("event")])],1),s("v-list-tile-content",[e._t("eventPopoverCalendar",[s("v-list-tile-title",[s("span",{domProps:{innerHTML:e._s(e.details.calendar)}})])],null,e.slotData)],2)],1):e._e()],1),e._t("eventPopoverBodyBottom",null,null,e.slotData)],2),e._t("eventPopoverActions",null,null,e.slotData)],2)},ht=[],vt={name:"dsCalendarEventPopover",props:{calendarEvent:{required:!0,type:ke["CalendarEvent"]},calendar:{required:!0,type:ke["Calendar"]},readOnly:{type:Boolean,default:!1},edit:{type:Function},allowEditOnReadOnly:{type:Boolean,default(){return this.$dsDefaults().allowEditOnReadOnly}},close:{type:Function},formats:{validate(e){return this.$dsValidate(e,"formats")},default(){return this.$dsDefaults().formats}},labels:{validate(e){return this.$dsValidate(e,"labels")},default(){return this.$dsDefaults().labels}}},computed:{slotData(){return{calendarEvent:this.calendarEvent,calendar:this.calendar,edit:this.edit,close:this.close,details:this.details,readOnly:this.readOnly}},classes(){return{"ds-event-cancelled":this.calendarEvent.cancelled}},styleHeader(){return{backgroundColor:this.details.color,color:this.details.forecolor}},styleButton(){return{color:this.details.forecolor}},startDate(){return this.calendarEvent.start.format(this.formats.start)},busyness(){return this.details.busy?this.labels.busy:this.labels.free},hasBusy(){return"boolean"===typeof this.details.busy},occurs(){return this.$dayspan.getEventOccurrence(this.calendarEvent.schedule,this.calendarEvent.start,this.labels,this.formats)},details(){return this.calendarEvent.event.data},allowEdit(){return this.allowEditOnReadOnly||!this.isReadOnly},isReadOnly(){return this.readOnly||this.$dayspan.readOnly||this.details.readonly}},data:e=>({}),methods:{}},mt=vt,ft=(s("60ae"),Object(x["a"])(mt,pt,ht,!1,null,"512fb2a7",null)),yt=ft.exports,bt={name:"app",components:{CalendarApp:nt,CalendarEventCreatePopover:ut,CalendarEventPopover:yt},props:{activities:{type:Array,required:!0},events:{type:Array}},computed:{currentApplet(){return this.$store.state.currentApplet},currentAppletName(){if(this.currentApplet)return this.$store.state.currentApplet.applet["skos:prefLabel"]},currentSchedule(){if(this.currentApplet)return this.$store.state.currentApplet.applet.schedule||null}},watch:{currentAppletName(){console.log(this.currentAppletName),this.loadState()}},data:()=>({storeKey:"dayspanState",calendar:ke["Calendar"].months(),readOnly:!1,defaultEvents:[]}),mounted(){window.app=this.$refs.app,this.loadState()},methods:{getCalendarTime(e){let t=e.start.format("a"),s=e.end.format("a"),a=e.start.format("h"),l=e.end.format("h");return 0!==e.start.minute&&(a+=e.start.format(":mm")),0!==e.end.minute&&(l+=e.end.format(":mm")),t===s?a+" - "+l+s:a+t+" - "+l+s},saveState(){const e=this.calendar.toInput(!0);this.$store.commit("setSchedule",e)},loadState(){let e={};try{let t=null;this.$store.state.currentApplet&&(t=this.$store.state.currentApplet.applet.schedule||null),t&&(e=t,e.preferToday=!1)}catch(e){console.log(e)}e.events&&e.events.length||(e.events=this.defaultEvents),e.events.forEach(e=>{let t=this.$dayspan.getDefaultEventDetails();e.data=a["default"].util.extend(t,e.data)}),this.$refs.app.setState(e)}}},_t=bt,gt=(s("8c30"),Object(x["a"])(_t,$e,xe,!1,null,null,null)),$t=gt.exports,xt=s("bc3a"),kt=s.n(xt);const jt=({apiHost:e,token:t,id:s,data:a})=>kt()({method:"put",url:`${e}/${s}/constraints`,headers:{"Girder-Token":t},data:a});var wt,At,Dt={setSchedule:jt},Et=Dt,Ct=Object(x["a"])(Et,wt,At,!1,null,null,null),St=Ct.exports,Ot={name:"schedule",components:{Calendar:$t},data:()=>({scheduleType:"absolute",colors:["Orange","Deep Purple","Red","Light Blue","Pink","Glue","Light Green","Blue Gray","Green","Yellow","Teal","Brown","Indigo","Amber","Cyan","Gray","Blue","Purple","Lime","Deep Orange"],readyToContinue:!0}),computed:{currentApplet(){return this.$store.state.currentApplet},activities(){if(this.currentApplet){let e=0;return h.a.map(this.currentApplet.activities,(t,s)=>{const a=t["http://www.w3.org/2004/02/skos/core#prefLabel"][0]["@value"],l=this.colors[e];return e+=1,{name:a,color:l,visibility:1,URI:s}})}return[]},schedule(){if(this.currentApplet&&console.log("schedule",this.currentApplet.applet),this.$store.state.currentApplet.applet.schedule)return this.$store.state.currentApplet.applet.schedule}},methods:{continueAction(){const e=new FormData,t=this.currentApplet.applet.schedule;e.set("schedule",JSON.stringify(t)),St.setSchedule({apiHost:this.$store.state.backend,id:this.currentApplet.applet._id,token:this.$store.state.auth.authToken.token,data:e}).then(e=>{console.log("success",e)})}}},Tt=Ot,Pt=Object(x["a"])(Tt,_e,ge,!1,null,null,null),Gt=Pt.exports,It={name:"app",store:y,components:{},data:()=>({e1:1,ready:!1,steps:[{name:"server",component:j},{name:"login",component:T},{name:"applet",component:K},{name:"schedule",component:Gt},{name:"groups",component:se},{name:"users",component:ve}]}),computed:{currentComponent(){if(this.ready)return this.steps[this.e1-1].name,this.$refs[this.steps[this.e1-1].name][0]},readyToContinue(){return!this.ready||this.currentComponent.readyToContinue}},mounted(){this.ready=!0},methods:{next(){this.currentComponent.continueAction(),this.e1+=1}}},Rt=It,Lt=(s("5c0b"),s("b0a0"),Object(x["a"])(Rt,o,d,!1,null,null,null)),Ut=Lt.exports;s("953f"),s("d1e7"),s("2ea5");a["default"].config.productionTip=!1,a["default"].use(n.a),a["default"].use(r.a,{methods:{getDefaultEventColor:()=>"#1976d2"}}),new a["default"]({el:"#app",render:e=>e(Ut)})},5932:function(e,t,s){"use strict";var a=s("b248"),l=s.n(a);l.a},"5c0b":function(e,t,s){"use strict";var a=s("106f"),l=s.n(a);l.a},"60ae":function(e,t,s){"use strict";var a=s("c627"),l=s.n(a);l.a},"87b5":function(e,t,s){"use strict";var a=s("dbdb"),l=s.n(a);l.a},"8c30":function(e,t,s){"use strict";var a=s("3769"),l=s.n(a);l.a},abc4:function(e,t,s){},b0a0:function(e,t,s){"use strict";var a=s("2e89"),l=s.n(a);l.a},b248:function(e,t,s){},b968:function(e,t,s){},c627:function(e,t,s){},caf9:function(e,t,s){"use strict";var a=s("1cd4"),l=s.n(a);l.a},cc3e:function(e,t,s){"use strict";var a=s("1cd8"),l=s.n(a);l.a},dbdb:function(e,t,s){},dc80:function(e,t,s){"use strict";var a=s("0358"),l=s.n(a);l.a},fde2:function(e,t,s){"use strict";var a=s("3e68"),l=s.n(a);l.a}});
//# sourceMappingURL=app.ac485efb.js.map